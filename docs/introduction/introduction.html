<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="zoo un park">

<title>Introduction – USA-KOREA crossover economics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">USA-KOREA crossover economics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about/about_me.html"> 
<span class="menu-text">About You</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../introduction/introduction.html" aria-current="page"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data_source/data_source.html"> 
<span class="menu-text">Data Sources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data_viz/viz.html"> 
<span class="menu-text">Data Visualization</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../EDA/eda.html"> 
<span class="menu-text">Exploratory Data Analysis</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-time-series-models" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Time Series Models</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-time-series-models">    
        <li>
    <a class="dropdown-item" href="../ts/uni.html">
 <span class="dropdown-text">Univariate TS Models (ARIMA/SARIMA)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ts/multi.html">
 <span class="dropdown-text">Multivariate TS Models (ARIMAX/SARIMAX/VAR)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ts/financial_ts.html">
 <span class="dropdown-text">Financial Time Series Models (ARCH/GARCH)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ts/dl.html">
 <span class="dropdown-text">Deep Learning for TS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ts/other.html">
 <span class="dropdown-text">Other: Interrupted TS/ARFIMA/Spectral Analysis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../conclusions/conclusion.html"> 
<span class="menu-text">Conclusions</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#time-series-analyis-in-us-economics-influence-on-south-koreas-economics" id="toc-time-series-analyis-in-us-economics-influence-on-south-koreas-economics" class="nav-link active" data-scroll-target="#time-series-analyis-in-us-economics-influence-on-south-koreas-economics">Time series analyis in US economics influence on South korea’s economics</a></li>
  <li><a href="#big-picture" id="toc-big-picture" class="nav-link" data-scroll-target="#big-picture">big picture</a></li>
  <li><a href="#analytical-angels" id="toc-analytical-angels" class="nav-link" data-scroll-target="#analytical-angels">Analytical Angels</a></li>
  <li><a href="#guiding-questions" id="toc-guiding-questions" class="nav-link" data-scroll-target="#guiding-questions">Guiding Questions</a></li>
  <li><a href="#literature-reviews" id="toc-literature-reviews" class="nav-link" data-scroll-target="#literature-reviews">Literature reviews</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>zoo un park </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="time-series-analyis-in-us-economics-influence-on-south-koreas-economics" class="level1">
<h1>Time series analyis in US economics influence on South korea’s economics</h1>
<p><img src="../image/currency.jpg" class="img-fluid"><span class="citation" data-cites="currency-photo"><sup><a href="#ref-currency-photo" role="doc-biblioref">1</a></sup></span></p>
<p>The United States is the world’s largest economy and, in many ways, the bellwether of global finance. When U.S. economic or political events unfold—rate decisions, inflation surprises, policy shocks—markets everywhere react. Countries tightly connected to the U.S. through trade, capital flows, and technology supply chains feel these ripples most acutely.</p>
<p>South Korea is a prime example. Its economy is deeply integrated with the U.S. through manufacturing-led exports, advanced technology industries, and financial linkages. U.S. shifts in growth, interest rates, and risk sentiment can quickly feed into Korea’s exchange rate, equity market, local interest rates, corporate financing conditions, and real activity. Korean policymakers and investors therefore watch the U.S. closely—adapting policy stances and portfolio strategies to absorb or harness these external forces.</p>
<p>This project explores how and how much U.S. ecomoics transmit to Korea’s economy and markets.This project focus on the dynamics : the channels of influence (rate differentials, dollar liquidity, risk appetite, growth signals), the speed and persistence of the effects, and how these relationships change across calm and stressed periods.</p>
</section>
<section id="big-picture" class="level1">
<h1>big picture</h1>
<p>This project centers on how U.S. Treasuries—the world’s benchmark for risk-free returns—shape outcomes in Korea’s economy and markets. Treasury moves are not just bond-market trivia; they anchor rates, funding costs, and the global appetite for risk. When the U.S. curve shifts or policy guidance changes, the ripple travels quickly through the won–dollar exchange rate, Korean equities (KOSPI/KODEX), local interest rates and credit, and—after a lag—into the real economy via trade and housing. In short, U.S. rates transmit policy signals and real-economy shocks across markets; Korea, as an open, export-driven economy tightly linked to U.S. demand and capital, feels these waves early and often. By organizing evidence across FX, rates, market behavior, and real-side indicators, this project aims to builds a coherent narrative of how U.S. financial conditions connect to Korean financial and economic outcomes. The goal is to track how U.S. economic condition interacts with Korea’s economics, using a time-series workflow—aligning frequencies. This project will focus on five main ideas:</p>
<p>U.S. rate shocks &amp; channels. U.S. Treasury moves embed changing views about policy, inflation, and growth. this project analyzes how these shocks reach Korea through interest-rate differentials, dollar liquidity/risk sentiment, and growth expectations—and when those channels amplify or offset one another.</p>
<p>FX: USD/KRW as the first responder. Because FX sits at the center of global pricing and funding, USD/KRW often reacts first. We map when U.S. rate spikes strengthen the dollar and weaken the won, when those moves act as risk-off signals, and how quickly (or slowly) the effects fade.</p>
<p>Korean yield curve &amp; credit conditions. The KTB curve summarizes Korea’s borrowing costs and growth/inflation expectations. We examine how shifts in the U.S. curve pass through to KTB 3Y/10Y and credit spreads, identifying where transmission is sharp versus sticky, and how it differs across calm and stressed regimes.</p>
<p>Equities: KOSPI/KODEX sector leadership. Equities translate rate information into valuations and earnings expectations. We track how sector leadership changes when discount rates rise or fall, spotlighting moments when stocks confirm the message from rates—or contradict it.</p>
<p>Real-side spillovers: trade and housing. Financial impulses filter into activity with lags. We connect market shocks to export prices/volumes and housing prices/transactions, clarifying when higher rates and a stronger dollar translate into softer trade momentum or tighter real-estate financing—and when resilience shows up instead.</p>
<p>By the end, this project aims to turn these signals into clear, practical guidance: how U.S. Treasury dynamics move Korea’s FX, rates, equities, trade, and housing—and how that understanding can inform policy calibration and resilient portfolio construction.</p>
<p><img src="../image/big_picture.png" class="img-fluid"></p>
</section>
<section id="analytical-angels" class="level1">
<h1>Analytical Angels</h1>
<ul>
<li><p>US-Korea Yield &amp; policy rate: U.S. Treasury yields in most cases lead global funding costs and shape risk sentiment. Korea’s yield curve, in turn, reflects how those global impulses meet local policy and liquidity conditions. This project analyzes how U.S. rate shifts whether policy, inflation, or term-premium driven transmit into Korean rates and the Korean won.</p></li>
<li><p>FX: FX sits at the center of global pricing and funding, often reacting first for economic shock. This project maps when U.S. rate spikes strengthen the dollar and weaken the won, when those moves act as risk-off signals, and how quickly (or slowly) the effects fade and links to change in various financial markets such as FX, Bonds.</p></li>
<li><p>Equities: Equities translate rate information into valuations and earnings expectations. This project tracks how leadership changes when rates rise or fall—testing when KOSPI co-moves with the US market and the dollar/risk complex, and spotlighting moments when stocks confirm the message from rates or contradict it.</p></li>
<li><p>Housing market :Housing market is one of the markets that is very sensitive to economic index. This project connects market shocks to export prices/volumes and housing prices/transactions, clarifying when higher rates and a stronger dollar translate into softer trade momentum or tighter real-estate financing.</p></li>
<li><p>Trade: Fundamentals in Korea’s economy relies on exports/imports. The trade channels global demand, dollar strength, and financing costs into shipment volumes and pricing. This project examines how USD strength and U.S.–Korea rate spreads affect export/imports when U.S. growth momentum offsets FX/risk.</p></li>
</ul>
</section>
<section id="guiding-questions" class="level1">
<h1>Guiding Questions</h1>
<ul>
<li><p>How do U.S. Treasury yield changes transmit through Korea’s financial system (FX, rates, equities, credit)?</p></li>
<li><p>What is the best way to identify a U.S. rate shock — event-day surprises, residualized yields, or structural VAR identification?</p></li>
<li><p>What is the size of the pass-through elasticity between U.S. and Korean yields (e.g., dKTB3Y/dUST2Y, dKTB10Y/dUST10Y)?</p></li>
<li><p>Which Korean market reacts first and strongest to U.S. shocks, and what is the typical lag structure of these reactions?</p></li>
<li><p>How does the strength and speed of transmission vary across regimes — high VIX, Fed tightening cycles, or funding stress periods?</p></li>
<li><p>Do FX, rate, and equity responses move consistently after shocks, or do they diverge (e.g., rates up, stocks steady)?</p></li>
<li><p>How do U.S. financial shocks spill over into Korea’s real economy — exports, industrial production, and housing — over time?</p></li>
<li><p>Are U.S. rate hikes and cuts symmetric in their effects on Korea’s markets and economy?</p></li>
<li><p>What share of Korea’s financial-market volatility is explained by U.S. shocks versus domestic or regional factors?</p></li>
<li><p>What actionable signals should Korean policymakers and investors monitor — U.S. front-end policy, long-end term premium, or dollar liquidity indicators?</p></li>
</ul>
</section>
<section id="literature-reviews" class="level1">
<h1>Literature reviews</h1>
<ul>
<li>US–Korea yield &amp; rate</li>
</ul>
<p>Recent evidence shows US Treasury moves often lead other curves, with term-premium and expectations shocks radiating into global funding costs—consistent with the view that Korea’s KTB curve imports a sizable share of the US signal unless domestic policy/liquidity conditions push back (BIS, 2024)<span class="citation" data-cites="BIS_QR_2024Dec"><sup><a href="#ref-BIS_QR_2024Dec" role="doc-biblioref">2</a></sup></span>. This motivates our decomposition of KTB moves into imported expectations vs local term-premium and our tests for wedge episodes when BoK priorities (growth/financial stability) resist external tightening.</p>
<ul>
<li>FX</li>
</ul>
<p>New work from the Bank of Korea highlights the dollar’s outsized role in transmitting US financial shocks to small open economies, including Korea, via both trade invoicing and dollar funding channels (Bank of Korea, 2025)<span class="citation" data-cites="BoK_2025_DollarDominance"><sup><a href="#ref-BoK_2025_DollarDominance" role="doc-biblioref">3</a></sup></span>. This supports our focus on mapping how US rate spikes strengthen the dollar, pressure the won, and cascade into local funding and asset prices—while testing state dependence (calm vs stressed) in the speed and persistence of KRW pass-through.</p>
<ul>
<li>Equities</li>
</ul>
<p>The IMF’s 2025 Global Financial Stability Report documents elevated equity valuations alongside heightened sensitivity to rate and policy-uncertainty shocks, with correlations to long-rate moves rising in risk-on phases (IMF, 2025)<span class="citation" data-cites="IMF_GFSR_2025_Ch1"><sup><a href="#ref-IMF_GFSR_2025_Ch1" role="doc-biblioref">4</a></sup></span>. This informs our approach to track when KOSPI co-moves with US equities and the dollar/risk complex—confirming the discount-rate channel—and when local earnings or sector dynamics generate divergence from the message embedded in rates.</p>
<ul>
<li>Housing market</li>
</ul>
<p>The IMF’s 2024 Article IV for Korea, assesses housing affordability and interest-rate transmission, noting how tighter financial conditions and higher mortgage costs can weigh on transactions/prices even as some stabilization emerges (IMF, 2025)<span class="citation" data-cites="IMF_Korea_2025_ArticleIV"><sup><a href="#ref-IMF_Korea_2025_ArticleIV" role="doc-biblioref">5</a></sup></span>. We use this to link imported rate/FX shocks to mortgage proxies, volumes, and prices, distinguishing quick volume effects from slower price adjustments and identifying thresholds where financing tightens materially.</p>
<ul>
<li>Trade</li>
</ul>
<p>BIS research after 2023 emphasizes valuation effects under dominant-currency pricing: exchange-rate swings reshape firms’ cash flows and can outweigh classic expenditure-switching in the short run (Nookhwun et al., 2025)<span class="citation" data-cites="BIS_WP_1266_2025"><sup><a href="#ref-BIS_WP_1266_2025" role="doc-biblioref">6</a></sup></span>. This frames our tests of how USD strength and US–Korea rate spreads filter into Korea’s export receipts and import bills—and when strong US growth offsets FX/risk headwinds for volumes and pricing.</p>
</section>
<section id="references" class="level1">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-currency-photo" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Https://www.bloomberg.com/news/articles/2025-05-14/us-korea-currency-talks-fuel-bets-trump-is-open-to-weaker-dollar.</div>
</div>
<div id="ref-BIS_QR_2024Dec" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">International Settlements, B. for. <a href="https://www.bis.org/publ/qtrpdf/r_qt2412a.htm">Investor optimism prevails over uncertainty</a>. <em>BIS Quarterly Review</em> (2024).</div>
</div>
<div id="ref-BoK_2025_DollarDominance" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">Bank of Korea, E. R. I. <em>Dollar dominance and international spillovers of US financial shocks</em>. <a href="https://www.bok.or.kr/imerEng/bbs/E0002902/list.do?menuNo=600342">https://www.bok.or.kr/imerEng/bbs/E0002902/list.do?menuNo=600342</a> (2025).</div>
</div>
<div id="ref-IMF_GFSR_2025_Ch1" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div><div class="csl-right-inline">Fund, I. M. <em>Global financial stability report, april 2025: Chapter 1</em>. <a href="https://www.imf.org/en/Publications/GFSR">https://www.imf.org/en/Publications/GFSR</a> (2025).</div>
</div>
<div id="ref-IMF_Korea_2025_ArticleIV" class="csl-entry" role="listitem">
<div class="csl-left-margin">5. </div><div class="csl-right-inline">Fund, I. M. <em>Republic of korea: 2024 article IV consultation—press release; staff report; and statement by the executive director</em>. <a href="https://www.elibrary.imf.org/view/journals/002/2025/041/article-A001-en.xml">https://www.elibrary.imf.org/view/journals/002/2025/041/article-A001-en.xml</a> (2025).</div>
</div>
<div id="ref-BIS_WP_1266_2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">6. </div><div class="csl-right-inline">Nookhwun, N. &amp; coauthors. <em>Exchange rate effects on firm performance: A NICER framework</em>. <a href="https://www.bis.org/publ/work1266.pdf">https://www.bis.org/publ/work1266.pdf</a> (2025).</div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/zp0217\.quarto\.pub\/assets");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>